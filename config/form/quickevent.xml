<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="action">?ext=calendar&amp;controller=quickevent</attribute>
		<attribute name="name">quickevent</attribute>
		<attribute name="onsubmit">return Todoyu.Ext.calendar.PanelWidget.QuickEvent.save(this)</attribute>
		<attribute name="class">formQuickEvent</attribute>
	</attributes>
	<hiddenFields>

	</hiddenFields>

	<fieldsets>
		<fieldset name="main">
			<legend>Data of the event</legend>
			<elements>

				<field type="textinput" name="title">
					<label>LLL:calendar.event.attr.title</label>
					<required />
				</field>

				<field type="textarea" name="description">
					<label>LLL:calendar.event.attr.description</label>
				</field>

				<field type="select" name="eventtype">
					<label>LLL:calendar.event.attr.event_type</label>
					<source type="function">
						<function>TodoyuEventViewHelper::getEventTypeOptions</function>
					</source>
					<extraAttributes>onchange="Todoyu.Ext.calendar.Event.onEventtypeChange(this)"</extraAttributes>
				</field>

				<field type="checkbox" name="is_dayevent">
					<label>LLL:calendar.event.attr.is_dayevent</label>
					<extraAttributes>onclick="Todoyu.Ext.calendar.Event.hideTime('quickevent');"</extraAttributes>
				</field>

				<field type="dateinput" name="startdate">
					<label>LLL:calendar.event.attr.startdate</label>
					<required />
				</field>

				<field type="timeinput" name="starttime">
					<label>LLL:calendar.event.attr.starttime</label>
				</field>

				<field type="dateinput" name="enddate">
					<label>LLL:calendar.event.attr.enddate</label>
					<required />
				</field>

				<field type="timeinput" name="endtime">
					<label>LLL:calendar.event.attr.endtime</label>
				</field>

				<field type="databaseRelation" name="user">
					<label>LLL:calendar.event.attr.assigned_to</label>
					<foreignRecordConf>
						<foreignformxml>ext/calendar/config/form/event-user.xml</foreignformxml>
						<addSubformConfig>
							<ext>calendar</ext>
							<controller>formhandling</controller>
						</addSubformConfig>
						<label type="function">
							<function>TodoyuUserViewHelper::getUserLabel</function>
							<noLabel>Neuer Benutzer</noLabel>
						</label>
						<validateRequired>TodoyuUserViewHelper::validateRequiredUserAC</validateRequired>
					</foreignRecordConf>
					<required />
				</field>

			</elements>
		</fieldset>

		<fieldset name="buttons">
			<legend>Actions</legend>
			<class>buttons</class>
			<elements>
				<field type="button" name="save">
					<type>submit</type>
					<text>LLL:form.field.save</text>
					<class>buttonSave</class>
					<hasIcon />
				</field>
				<field type="button" name="cancel">
					<text>LLL:form.field.cancel</text>
					<type>button</type>
					<class>buttonCancel</class>
					<hasIcon />
					<onclick>Todoyu.Ext.calendar.PanelWidget.QuickEvent.closePopup()</onclick>
				</field>
			</elements>
		</fieldset>
	</fieldsets>
</form>
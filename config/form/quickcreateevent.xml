<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="action">?ext=calendar&amp;controller=quickcreateevent</attribute>
		<attribute name="name">quickcreateevent</attribute>
	</attributes>
	<hiddenFields>

	</hiddenFields>

	<fieldsets>
		<fieldset name="main">
			<legend>Data of the event</legend>
			<elements>

				<field type="textinput" name="title">
					<label>core.title</label>
					<required />
				</field>

				<field type="textarea" name="description">
					<label>core.description</label>
				</field>

				<field type="select" name="eventtype">
					<label>event.attr.event_type</label>
					<source type="function">
						<function>TodoyuEventViewHelper::getEventTypeOptions</function>
					</source>
				</field>

				<field type="checkbox" name="is_dayevent">
					<label>event.attr.is_dayevent</label>
				</field>

				<field type="datetimeinput" name="date_start">
					<label>event.attr.startdate</label>
					<required label="event.error.date_start" />
				</field>

				<field type="datetimeinput" name="date_end">
					<label>event.attr.enddate</label>
					<validate>
						<dateTimeNotBefore msg="LLL:calendar.check.starttimeAfterEndtime">
							<field>date_start</field>
						</dateTimeNotBefore>
					</validate>
				</field>

				<field type="databaseRelation" name="user">
					<label>event.attr.assigned_to</label>
					<record>
						<form>ext/calendar/config/form/event-user.xml</form>
						<url>
							<ext>calendar</ext>
							<controller>formhandling</controller>
						</url>
						<label type="function">
							<function>TodoyuUserViewHelper::getUserLabel</function>
							<noLabel>Neuer Benutzer</noLabel>
						</label>
					</record>
					<required />
				</field>

			</elements>
		</fieldset>

		<fieldset name="buttons">
			<legend>Actions</legend>
			<class>buttons</class>
			<elements>
				<field type="saveButton" name="save">
					<onclick>Todoyu.Ext.calendar.QuickCreateEvent.save(this.form)</onclick>
				</field>
				<field type="cancelButton" name="cancel">
					<onclick>Todoyu.Ext.calendar.QuickCreateEvent.closePopup()</onclick>
				</field>
			</elements>
		</fieldset>
	</fieldsets>
</form>
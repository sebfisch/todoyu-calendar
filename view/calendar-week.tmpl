<div class="mainGrid">
	<div id="gridcontainer" class="weekMode">

		{* --------------- Day event Bar Start ----------------------- *}
		<div id="topcontainerwk">
			<table class="wk-weektop">
				<tbody>
					{* --------------- Day names and dates ----------------------- *}
					<tr>
						<td rowspan="3" class="wk-tzlabel">
							<div id="toggleDayView" class="{if $fullDayView}full{/if}" title="{if $fullDayView}{Label calendar.ext.dayview.workinghours}{else}{Label calendar.ext.dayview.fullday}{/if}" onclick="Todoyu.Ext.calendar.Navi.toggleFullDayView()"></div>
						</td>
						{* ---------- Header: dates of the rendered week ------------ *}
						{for weekday 0 6}
							{$dayDateKey = date('Ymd', $timestamps[$weekday])}
							<th class="wk-dayname {if $timestamps[$weekday] == $timestamp_today}today todaywk-dayname{/if} {cycle values="odd,even"}" title="{dateFormat $timestamps.$weekday DlongD2MlongY4}{if $timestamps.$weekday == $timestamp_today} ({Label calendar.ext.today}){/if}" scope="col" onclick="Todoyu.Ext.calendar.showDay('{date('Y-m-d', $timestamps[$weekday])}')">
								{dateFormat $timestamps[$weekday] DshortD2M2}
								{if sizeof($holidays[$dayDateKey])>0}
									<span id="holiday-{$timestamps[$weekday]}" class="holiday quickInfoHoliday"></span>
								{/if}
							</th>
						{/for}
					</tr>

					{* ------------  Full-day events (incl birthdays) ------------------ *}
					<tr>
						<td class="wk-allday" colspan="7">
							<table class="st-grid">
								{* --------------- Birthdays -------------------- *}
								{if sizeof($birthdays, constant(COUNT_RECURSIVE)) > 0}
									<tr>
										{for weekday 0 6}
											{$dayDateKey = date('Ymd', $timestamps[$weekday])}
											<td class="noEventCell">
											{if $birthdays[$dayDateKey]}
												{foreach $birthdays[$dayDateKey] birthday}
													{$birthday}
												{/foreach}
											{/if}
											</td>
										{/for}
									</tr>
								{/if}
								{foreach $dayEvents dayDayEvents}
									<tr>
										{foreach $dayDayEvents dayEvent}
											{if is_array($dayEvent)}
												<td colspan="{$dayEvent.dayLength}">
													{$dayEvent.html}
												</td>
											{else}
												{if $dayEvent == 0}
													<td>
														&nbsp;
													</td>
												{/if}
											{/if}
										{/foreach}
									</tr>
								{/foreach}
							</table>
						</td>
					</tr>
					<tr class="wk-webcontent">
						{* -------------------- Cells inside weekdays -------------- *}
						{for weekday 0 5}
							<td class="wk-webcontent-td">&nbsp;</td>
						{/for}
						<td class="wk-webcontent-td">{* ----------- Sunday --------- *}
							<table class="st-grid">
								<tbody>
									<tr>
									{for weekday 0 6}
										<td rowspan="2" class="st-c st-s"></td>
									{/for}
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		{* --------------- Day-event Bar End ----------------------- *}

		{* --------------- Start scrolltimedevents ----------------------- *}
		<div id="calendararea" class="wk-scrolltimedevents {if $fullDayView}full{/if} contextmenucalendararea">
			<table class="tg-timedevents" id="tgTable">
				<tbody>
					<tr>
						<td class="wid40"></td>
						<td colspan="7">
							<div class="tg-hourmarkerwrapper">
								<div class="tg-hourmarkers">
								{* --------- Hour splitting lines -------- *}
								{for hourmarker 0 23}
									<div class="tg-dualmarker"></div>
								{/for}
								</div>
							</div>
						</td>
					</tr>
					<tr>
						<td class="colHours">
							{for hour 0 23}
								<div class="hour">{if $hour < 10}0{/if}{$hour}:00</div>
							{/for}
						</td>
						{* -------- Week event inserters -------- *}
						{for daycounter 0 6}
							{assign var=dayDateKey value=date('Ymd', $timestamps.$daycounter)}
							<td class="dayCol {if $timestamps.$daycounter == $timestamp_today}tg-coltoday{/if}">
								<div class="tg-colwrapper">
									<div id="tgCol{$daycounter}">
									{foreach $events.$dayDateKey event}
										{$event}
									{/foreach}
									</div>
								</div>
							</td>
						{/for}
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<script language="javascript">
Todoyu.Ext.calendar.setTitle('{$title}');
</script>